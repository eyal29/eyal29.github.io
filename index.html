<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <title>Simulation 3D – Chantier Autoroute</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div id="hud">
    <div class="hudHead">
      <span class="hudBadge">DFI</span>
      <div class="hudTitles">
        <div class="hudTitle">Dispositif de Franchissement Intelligent</div>
        <div class="hudSubtitle">Simulation 3D Hackathon — Sécurité de chantier autoroutier</div>
      </div>
    </div>
    <div class="hudMeta">Caméra FLR, analyse trafic et alerte ouvriers connectés</div>
    <div class="hudRisk">Risque: <span id="risk">0%</span></div>
    <div id="pill" class="ok">OK — surveillance active</div>
  </div>
  <div id="realViewCard">
    <div class="realViewTitle">
      <svg class="realViewTitleIcon" viewBox="0 0 24 24" fill="none">
        <circle cx="12" cy="12" r="10" fill="#5078ff" opacity="0.22" />
        <path d="M12 7.5a4.5 4.5 0 1 1 0 9a4.5 4.5 0 0 1 0-9zm0 1.5a3 3 0 1 0 0 6a3 3 0 0 0 0-6z" fill="#fff" />
        <circle cx="12" cy="12" r="1.2" fill="#5078ff" />
      </svg>
      Vues réelles chantier
    </div>
    <img class="realViewImg" src="image_tapis.png" alt="Tapis sensoriel de sécurité"
      data-title="Tapis sensoriel de sécurité"
      data-description-html="<strong>Capteurs de pression intégrés</strong> convertissant l'énergie mécanique du pneu en signal électrique instantané.<br><strong>Caoutchouc haute densité</strong> pour l'absorption des chocs.<br><em>Dimensions :</em><br>• largeur : <strong>3,5 m</strong><br>• longueur : <strong>15 m</strong><br>• épaisseur : <strong>30 mm</strong>" />
    <img class="realViewImg" src="cam_hackathon.png" alt="Caméra 360° intelligente" data-title="Caméra 360° intelligente"
      data-description-html="<strong>Vision panoramique</strong> : optique 360° Global Shutter capturant toute la scène en une fraction de milliseconde.<br><strong>IA embarquée</strong> : modèle YOLOv8 optimisé TensorRT sur NVIDIA Jetson, analyse en <strong>10 à 30 ms</strong>.<br><strong>Énergie verte</strong> : alimentation continue via panneau photovoltaïque et batterie tampon, avec <em>autonomie totale</em> sur chantier mobile." />
  </div>

  <div id="imageInfoModal" class="imageModal hidden" role="dialog" aria-modal="true" aria-labelledby="imageInfoTitle">
    <div class="imageModalBackdrop" data-close-modal="true"></div>
    <div class="imageModalCard">
      <button id="imageInfoClose" class="imageModalClose" type="button" aria-label="Fermer">✕</button>
      <div class="imageModalTag">Détail visuel</div>
      <h3 id="imageInfoTitle" class="imageModalTitle">[TEXTE]</h3>
      <p id="imageInfoText" class="imageModalText">[TEXTE]</p>
    </div>
  </div>

  <div id="controls">
    <button id="btnPlay">Pause</button>
    <label style="opacity:.9;">Trafic</label>
    <input id="traffic" type="range" min="5" max="30" value="14" />
  </div>

  <div id="topStatus">
    <div class="sChip"><span class="sLabel">Trafic</span><span id="sTraffic">14</span></div>
    <div class="sChip"><span class="sLabel">Véhicules</span><span id="sCars">14</span></div>
    <div class="sChip"><span class="sLabel">Caméra</span><span id="sCam">Libre</span></div>
    <div class="sChip"><span class="sLabel">Simulation</span><span id="sSim">Active</span></div>
    <div class="sChip" id="sSignalChip"><span class="sLabel">Signal FLR</span><span id="sSignal">Standby</span></div>
  </div>

  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
      }
    }
  </script>

  <script type="module" src="app.js"></script>
</body>

</html>